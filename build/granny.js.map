{"version":3,"sources":["granny.js"],"names":["Granny","options","axios","create","login","password","accessToken","setAccessToken","domain","setDomain","accessKey","accessSecret","prototype","setOptions","token","defaults","headers","common","baseURL","request","method","url","data","file","result"],"mappings":"AAAA;;;;;;;;AAGA,SAASA,MAAT,CAAgBC,OAAhB,EAAyB;AACxB,OAAKC,KAAL,GAAaA,KAAK,CAACC,MAAN,CAAa,EAAb,CAAb;AAEA;;AACA,OAAKC,KAAL,GAAaH,OAAO,CAACG,KAAR,IAAiB,KAA9B;AACA,OAAKC,QAAL,GAAgBJ,OAAO,CAACI,QAAR,IAAoB,KAApC;AACA,OAAKC,WAAL,GAAmB,KAAnB;AACA,MAAGL,OAAO,CAACK,WAAX,EAAwB,KAAKC,cAAL,CAAoBN,OAAO,CAACK,WAA5B;AAExB;;AACA,OAAKE,MAAL,GAAc,EAAd;AACA,MAAGP,OAAO,CAACO,MAAX,EAAmB,KAAKC,SAAL,CAAeR,OAAO,CAACO,MAAvB;AAEnB,OAAKE,SAAL,GAAiBT,OAAO,CAACS,SAAR,IAAqB,EAAtC;AACA,OAAKC,YAAL,GAAoBV,OAAO,CAACU,YAAR,IAAwB,EAA5C;AACA;;AAEDX,MAAM,CAACY,SAAP,CAAiBC,UAAjB,GAA8B,UAASZ,OAAT,EAAkB;AAC/C;AACA,MAAGA,OAAO,CAACO,MAAX,EAAmB,KAAKA,MAAL,GAAcP,OAAO,CAACO,MAAtB;AACnB,MAAGP,OAAO,CAACS,SAAX,EAAsB,KAAKA,SAAL,GAAiBT,OAAO,CAACS,SAAzB;AACtB,MAAGT,OAAO,CAACU,YAAX,EAAyB,KAAKA,YAAL,GAAoBV,OAAO,CAACU,YAA5B;AACzB,CALD;;AAOAX,MAAM,CAACY,SAAP,CAAiBL,cAAjB,GAAkC,UAASO,KAAT,EAAgB;AACjD,OAAKR,WAAL,GAAmBQ,KAAnB;AACA,OAAKZ,KAAL,CAAWa,QAAX,CAAoBC,OAApB,CAA4BC,MAA5B,CAAmC,eAAnC,IAAsD,KAAKX,WAA3D;AACA,CAHD;;AAIAN,MAAM,CAACY,SAAP,CAAiBH,SAAjB,GAA6B,UAASD,MAAT,EAAiB;AAC7C,OAAKA,MAAL,GAAcA,MAAd;AACA,OAAKN,KAAL,CAAWa,QAAX,CAAoBG,OAApB,GAA8B,KAAKV,MAAnC;AACA,CAHD;;AAKAR,MAAM,CAACY,SAAP,CAAiBO,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA2B,iBAAeC,MAAf,EAAuBC,GAAvB,EAA4BC,IAA5B,EAAkCC,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAErBtB,YAAAA,OAFqB,GAEX;AACbmB,cAAAA,MAAM,EAANA,MADa;AAEbC,cAAAA,GAAG,EAAHA;AAFa,aAFW;AAMzB,gBAAGC,IAAH,EAASrB,OAAO,CAACqB,IAAR,GAAeA,IAAf;AANgB;AAAA,mBAQN,KAAKpB,KAAL,CAAW,EAAX,CARM;;AAAA;AAQrBsB,YAAAA,MARqB;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3B;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["'use strict';\r\n\r\n\r\nfunction Granny(options) {\r\n\tthis.axios = axios.create({});\r\n\r\n\t/* Access level / credentials */\r\n\tthis.login = options.login || false;\r\n\tthis.password = options.password || false;\r\n\tthis.accessToken = false;\r\n\tif(options.accessToken) this.setAccessToken(options.accessToken);\r\n\r\n\t/* Access level / domain */\r\n\tthis.domain = '';\r\n\tif(options.domain) this.setDomain(options.domain);\r\n\r\n\tthis.accessKey = options.accessKey || '';\r\n\tthis.accessSecret = options.accessSecret || '';\r\n}\r\n\r\nGranny.prototype.setOptions = function(options) {\r\n\t/* Access level / domain */\r\n\tif(options.domain) this.domain = options.domain;\r\n\tif(options.accessKey) this.accessKey = options.accessKey;\r\n\tif(options.accessSecret) this.accessSecret = options.accessSecret\t;\r\n}\r\n\r\nGranny.prototype.setAccessToken = function(token) {\r\n\tthis.accessToken = token;\r\n\tthis.axios.defaults.headers.common['Authorization'] = this.accessToken;\r\n}\r\nGranny.prototype.setDomain = function(domain) {\r\n\tthis.domain = domain;\r\n\tthis.axios.defaults.baseURL = this.domain;\r\n}\r\n\r\nGranny.prototype.request = async function(method, url, data, file) {\r\n\ttry {\r\n\t\tlet options = {\r\n\t\t\tmethod,\r\n\t\t\turl\r\n\t\t}\r\n\t\tif(data) options.data = data\r\n\r\n\t\tlet result = await this.axios({\r\n\t\t\t\r\n\r\n\t\t})\r\n\t} catch(e) {\r\n\r\n\t}\r\n}"],"file":"granny.js"}