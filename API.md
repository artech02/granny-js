<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Granny][1]
    -   [Parameters][2]
    -   [setOptions][3]
        -   [Parameters][4]
    -   [setAccessToken][5]
        -   [Parameters][6]
    -   [setDomain][7]
        -   [Parameters][8]
    -   [getStatus][9]
        -   [Examples][10]
    -   [setup][11]
        -   [Parameters][12]
        -   [Examples][13]
    -   [login][14]
        -   [Parameters][15]
        -   [Examples][16]
    -   [addDomain][17]
        -   [Parameters][18]
        -   [Examples][19]
    -   [getDomain][20]
        -   [Parameters][21]
        -   [Examples][22]
    -   [listDomains][23]
        -   [Examples][24]
    -   [uploadImage][25]
        -   [Parameters][26]
        -   [Examples][27]
    -   [listDirectory][28]
        -   [Parameters][29]
        -   [Examples][30]
    -   [listUsers][31]
        -   [Examples][32]
    -   [addUser][33]
        -   [Parameters][34]
        -   [Examples][35]
    -   [getUser][36]
        -   [Parameters][37]
        -   [Examples][38]
    -   [editUser][39]
        -   [Parameters][40]
        -   [Examples][41]

## Granny

A Granny API contructor

### Parameters

-   `options` **[Object][42]** Setup object (optional, default `{}`)
    -   `options.accessToken` **[string][43]** Login acces token to use for managment API
    -   `options.domain` **[string][43]** Granny server domain to send API request to
    -   `options.accessKey` **[string][43]** Granny server domain accessKey
    -   `options.accessSecret` **[string][43]** Granny server domain accessSecret

### setOptions

Update domain specific options

#### Parameters

-   `options` **[Object][42]** Setup object
    -   `options.domain` **[string][43]** Granny server domain to send API request to
    -   `options.accessKey` **[string][43]** Granny server domain accessKey
    -   `options.accessSecret` **[string][43]** Granny server domain accessSecret

### setAccessToken

Update login access token

#### Parameters

-   `token` **[string][43]** Login acces token to use for managment API

### setDomain

Update domain to send API to

#### Parameters

-   `domain` **[string][43]** 

### getStatus

Open API | Get server/client status

#### Examples

```javascript
var [err, result] = await api.getStatus()
```

Returns **[Promise][44]** [Error, Result]

### setup

Auth API | Setup server with your credentials when first launched

#### Parameters

-   `credentials` **[Object][42]** credentials object
    -   `credentials.login` **[String][43]** 
    -   `credentials.password` **[String][43]** 

#### Examples

```javascript
var [err, result] = await api.setup({ login: 'login', password: 'password' })
```

Returns **[Promise][44]** [Error, Result]

### login

Auth API | Login and get your access token

#### Parameters

-   `credentials` **[Object][42]** credentials object
    -   `credentials.login` **[String][43]** 
    -   `credentials.password` **[String][43]** 

#### Examples

```javascript
var [err, result] = await api.login({ login: 'login', password: 'password' })
```

Returns **[Promise][44]** [Error, Result]

### addDomain

Domain API | Add new domain to serve your files

#### Parameters

-   `options` **[Object][42]** options object
    -   `options.domain` **[String][43]** full domain name

#### Examples

```javascript
var [err, result] = await api.addDomain({ domain: 'cdn.example.com' })
```

Returns **[Promise][44]** [Error, Result]

### getDomain

Domain API | Get all domain information

#### Parameters

-   `options` **[Object][42]** options object
    -   `options.domain` **[String][43]** full domain name

#### Examples

```javascript
var [err, result] = await api.getDomain({ domain: 'cdn.example.com' })
```

Returns **[Promise][44]** [Error, Result]

### listDomains

Domain API | Get all domains

#### Examples

```javascript
var [err, result] = await api.listDomains()
```

Returns **[Promise][44]** [Error, Result]

### uploadImage

Image API | Upload image

#### Parameters

-   `options` **[Object][42]** options object
    -   `options.path` **[String][43]** relative path for the image you want it will be avialable
    -   `options.image` **File** image

#### Examples

```javascript
var [err, result] = await api.uploadImage({ path: '/avatars/user_1.jpg', image: new Buffer(...) })
```

Returns **[Promise][44]** [Error, Result]

### listDirectory

Directory API | Get listing for given path

#### Parameters

-   `options` **[Object][42]** options object
    -   `options.path` **[String][43]** relative path for getting content

#### Examples

```javascript
var [err, result] = await api.listDirectory({ path: '/avatars/' })
```

Returns **[Promise][44]** [Error, Result]

### listUsers

User API [admin_only] | Get all users

#### Examples

```javascript
var [err, users] = await api.listUsers()
```

Returns **[Promise][44]** [Error, Result]

### addUser

User API [admin_only] | Add new users

#### Parameters

-   `options` **[Object][42]** options object
    -   `options.login` **[String][43]** user login
    -   `options.password` **[String][43]** user password
    -   `options.role` **[String][43]** user role [admin|client], default client (optional, default `'client'`)

#### Examples

```javascript
var [err, login] = await api.addUser({lodin: 'sampleuser', password: 'samplepassword'})
```

Returns **[Promise][44]** [Error, Result]

### getUser

User API [admin_only] | Get user information

#### Parameters

-   `options` **[Object][42]** options object
    -   `options.login` **[String][43]** user login

#### Examples

```javascript
var [err, user] = await api.getUser({ login: 'sampleuser' })
```

Returns **[Promise][44]** [Error, Result]

### editUser

User API [admin_only] | Edit user

#### Parameters

-   `options` **[Object][42]** options object
    -   `options.login` **[String][43]** login of user to edit
    -   `options.password` **[String][43]** new user password (optional, default `false`)
    -   `options.role` **[String][43]** new user role [admin|client] (optional, default `false`)
    -   `options.domains` **[Array][45]** list of domains belongs to user (optional, default `false`)

#### Examples

```javascript
var [err, changed] = await api.editUser({lodin: 'sampleuser', domains: ['5e35ce81cd91107c2ca1ab64'], role: 'client'})
```

Returns **[Promise][44]** [Error, Result]

[1]: #granny

[2]: #parameters

[3]: #setoptions

[4]: #parameters-1

[5]: #setaccesstoken

[6]: #parameters-2

[7]: #setdomain

[8]: #parameters-3

[9]: #getstatus

[10]: #examples

[11]: #setup

[12]: #parameters-4

[13]: #examples-1

[14]: #login

[15]: #parameters-5

[16]: #examples-2

[17]: #adddomain

[18]: #parameters-6

[19]: #examples-3

[20]: #getdomain

[21]: #parameters-7

[22]: #examples-4

[23]: #listdomains

[24]: #examples-5

[25]: #uploadimage

[26]: #parameters-8

[27]: #examples-6

[28]: #listdirectory

[29]: #parameters-9

[30]: #examples-7

[31]: #listusers

[32]: #examples-8

[33]: #adduser

[34]: #parameters-10

[35]: #examples-9

[36]: #getuser

[37]: #parameters-11

[38]: #examples-10

[39]: #edituser

[40]: #parameters-12

[41]: #examples-11

[42]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[43]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[44]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[45]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array
